<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>&lt;undefined&gt;</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-999999</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>jade = 0;


roo = noone;
isTracking = 0;
gameOverState = 0;

konamiCodeProgress = 0;
konamiCode[0] = vk_up
konamiCode[1] = vk_up
konamiCode[2] = vk_down
konamiCode[3] = vk_down
konamiCode[4] = vk_left
konamiCode[5] = vk_right
konamiCode[6] = vk_left
konamiCode[7] = vk_right
konamiCode[8] = 'B'
konamiCode[9] = 'A'
konamiCode[10] = vk_enter
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="2">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_play){
    if (roo.h &gt; topHeight)
        topHeight = roo.h
    if (roo.h &gt; global.maxH)
        global.maxH = roo.h
    if (gameOverState){
        //handle game over;
        if (roo.l &gt; global.maxL)
            global.maxL = roo.l
        
        
            
        global.cash += round(roo.l/5);
        room_goto(rm_upgrades);
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_play &amp;&amp; !instance_exists(obj_roo)) room_restart();

if (roo == noone &amp;&amp; instance_exists(obj_roo)){
    roo = instance_nearest(0,0,obj_roo);
}
var posX = room_width/3;
var posY = room_height/3;

if (instance_exists(obj_roo)){
    var shiftX = 0, shiftY = 0;
    roo = instance_nearest(0,0,obj_roo)
    if (roo.x &gt; posX){
        shiftX = posX - roo.x;
        roo.x = posX;
        
        //move all other objects back
        background_x[0] += shiftX/3
        
        roo.l += -shiftX/45;
    }
    if (roo.y &lt; posY || isTracking &amp;&amp; roo.y &gt; posY){
        isTracking = 1;
        var oldY = roo.y
        shiftY = posY - roo.y;
        
            
        
        if (background_y[0] &lt; 0) {
            background_y[0] = 0;
            roo.h = (room_height-roo.y)/45;
        }
        
        if (background_y[0] + shiftY/3 &gt;= 0){
            background_y[0] += shiftY/3;
            roo.y = posY;
        }
        else{
            shiftY = 0;
        }
        //move all other objects back
        
        
        roo.h += shiftY/45;
    }
    else {
        roo.h = (room_height-roo.y)/45;
    }
    
    //SHIFT OTHER OBJECTS
    var clouds = instance_number(obj_cloud);
    for (var c = 0; c &lt; clouds; c++){
        var currentCloud = instance_find(obj_cloud,c);
        currentCloud.x += shiftX/3;
        currentCloud.y += shiftY/3;
    }
    
    var bouncies = instance_number(obj_bouncy);
    for (var b = 0; b &lt; bouncies; b++){
        var currentBouncy = instance_find(obj_bouncy,b);
        currentBouncy.x += shiftX;
        currentBouncy.y += shiftY;
    }
    
    var sam = instance_find(obj_sam,0);
    sam.x += shiftX;
    sam.y += shiftY;
    
    
    if (roo.y &gt; room_height+20 || roo.x &lt; -20) { gameOverState = 1; }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>Upgrade-Buttons</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>var buttonShift = -64;
if (room == rm_upgrades){
    var brk = global.upgrades[? "Broccoli"];
    sam = instance_create(416,896, obj_sam);
    if (brk &lt; 5){
        btnBroc = instance_create(buttonShift+256,256,obj_button);
        btnBroc.icon = spr_broccoli;
        btnBroc.text = "Broccoli#Stronger YEET";
        if (brk == 4){
            btnBroc.icon = spr_jade_broccoli;
            btnBroc.text = "Broccoli#JADE infused";
        }
        btnBroc.upgrade = "Broccoli";
        btnBroc.cost = get_cost("Broccoli");
    }
    
    var suit = global.upgrades[? "Suit"];
    
    if (suit == 0){
        btnSuit = instance_create(buttonShift+256*2.5,256,obj_button);
        btnSuit.icon = spr_duck;
        btnSuit.text = "Duck suit#Aero upgrade#unlocks more upgrades";
        btnSuit.upgrade = "Suit";
        btnSuit.cost = get_cost("Suit");
    } else if (suit &lt; 5){
        btnSuit = instance_create(buttonShift+256*2.5,256,obj_button);
        btnSuit.icon = spr_duck;
        btnSuit.text = "Duck suit#Aero upgrade";
        btnSuit.upgrade = "Suit";
        btnSuit.cost = get_cost("Suit");
        if (suit == 4){
            btnSuit.icon = spr_glueba;
            btnSuit.text = "Cover yourself in#glue for optimal#aerodynamic performance";
        }
    }
        
    var wings = global.upgrades[? "Wings"];
    if (suit &gt; 0 &amp;&amp; wings &lt; 5){
        btnSuit = instance_create(buttonShift+256*4,256,obj_button);
        btnSuit.icon = spr_wings;
        btnSuit.text = '"Wings"#Glide more';
        btnSuit.upgrade = "Wings";
        btnSuit.cost = get_cost("Wings");
        if(wings == 4){
            btnSuit.icon = spr_angel_wings;
            btnSuit.text = 'Actual wings';
        }
    }
        
    var flippers = global.upgrades[? "Flippers"];
    if (suit &gt; 0 &amp;&amp; flippers &lt; 5){
        btnSuit = instance_create(buttonShift+256*5.5,256,obj_button);
        btnSuit.icon = spr_flippers;
        btnSuit.text = "Flippers#Press Space to JUMP";
        btnSuit.upgrade = "Flippers";
        btnSuit.cost = get_cost("Flippers");
    }
    var flt = global.upgrades[? "Floaties"];
    
    if (flt &lt; 5){
        btnFlt = instance_create(buttonShift+256*7,256,obj_button);
        btnFlt.icon = spr_floaties;
        btnFlt.text = "Floaties#More Bounce";
        btnFlt.upgrade = "Floaties";
        btnFlt.cost = get_cost("Floaties");
        if (flt == 4){
            btnFlt.icon = spr_floaties_glow;
            btnFlt.text = "Jade Floaties#More Bounce";
        }
    }
    
    btnReset = instance_create(buttonShift+256*7,room_height-256,obj_button);
    btnReset.icon = spr_reset;
    btnReset.text = "Reset game#*snap*";
    btnReset.upgrade = "Reset";
    btnReset.cost = -1;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>SaveGame</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>ini_open("savedata.ini");
ini_write_real("save", "Broccoli", global.upgrades[? "Broccoli"]);
ini_write_real("save", "Suit", global.upgrades[? "Suit"]);
ini_write_real("save", "Wings", global.upgrades[? "Wings"]);
ini_write_real("save", "Flippers", global.upgrades[? "Flippers"]);
ini_write_real("save", "Floaties", global.upgrades[? "Floaties"]);
ini_write_real("save", "Cash", global.cash);
ini_write_real("save", "MaxL", global.maxL);
ini_write_real("save", "MaxH", global.maxH);
ini_close();
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>RoundReset</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>topHeight = 100;
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="2">
      <action>
        <libid>1</libid>
        <id>605</id>
        <kind>0</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>0</useapplyto>
        <exetype>0</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>load/set globals</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>randomize();
//set_display();

global.cash = 25000;
global.maxL = 0;
global.maxH = 0;
global.samImg = 5;

global.upgrades = ds_map_create();
ds_map_add(global.upgrades, "Broccoli", 0);
ds_map_add(global.upgrades, "Suit", 0);
ds_map_add(global.upgrades, "Wings", 0);
ds_map_add(global.upgrades, "Flippers", 0);
ds_map_add(global.upgrades, "Floaties", 0);
room_goto_next();

ini_open("savedata.ini");
global.upgrades[? "Broccoli"] = ini_read_real("save", "Broccoli", 0);
global.upgrades[? "Suit"] = ini_read_real("save", "Suit", 0);
global.upgrades[? "Wings"] = ini_read_real("save", "Wings", 0);
global.upgrades[? "Flippers"] = ini_read_real("save", "Flippers", 0);
global.upgrades[? "Floaties"] = ini_read_real("save", "Floaties", 0);
global.cash = ini_read_real("save", "Cash", 0);
global.maxL = ini_read_real("save", "MaxL", 0);
global.maxH = ini_read_real("save", "MaxH", 0);
ini_close();
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>draw_set_font(ft_normal_bold);
draw_set_halign(fa_right);
draw_text(room_width-40,40,"Monies: $" + string(global.cash))
draw_set_halign(fa_left);
draw_text(40,40,"FPS: " + string(fps));




if (room == rm_play){
    //draw_text(20,60,"H-Spd: " + string(roo.hspeed))
    //draw_text(20,75,"V-Spd: " + string(roo.vspeed))
    
    //draw_text(20,100,"Length: " + string(roo.l) + "/" + string(global.maxL))
    //draw_text(20,115,"Height: " + string(roo.h) + "/" + string(global.maxH))
    
    //draw score
    if (roo.isLaunched){
        draw_set_color(c_black);
        draw_set_valign(fa_middle);
        draw_set_halign(fa_center);
        draw_set_font(ft_big_bold);
        draw_text(room_width/2,room_height/6, string(round(roo.l/5)));
    }
        
    //draw heightLine
    draw_set_color(c_black);
    draw_set_valign(fa_bottom);
    draw_set_halign(fa_right);
    draw_set_font(ft_normal);
    var lineX = room_width - 40;
    draw_line(lineX, room_height - 40, lineX, room_height - 240);
    draw_line(lineX-5, room_height - 40, lineX+5, room_height - 40);
    draw_line(lineX-5, room_height - 240, lineX+5, room_height - 240);
    draw_text(lineX+10, room_height - 240, string(round(topHeight)));
    var currentHeight = 200*(topHeight-max(0,roo.h-16))/topHeight;
    //draw_text(lineX+10, room_height - 260, string(currentHeight));
    draw_sprite_ext(spr_arrow, 2, lineX, room_height - 240 + currentHeight, .5, .5, 0, c_white, 1);
    
}
else if (room == rm_upgrades){
    draw_set_font(ft_big_bold);
    draw_set_halign(fa_middle);
    draw_text(room_width/2, 96, "UPGRADES");
    
    var charName = "Sam";
    if (global.samImg == 6){
        charName = "The Jade Queen";
    }
    if (global.samImg == 7){
        charName = "Granba";
    }
    draw_set_valign(fa_bottom);
    draw_text(room_width/2, room_height-96, "Click near " + charName + " to start");
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="9" enumb="1">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>if (room == rm_upgrades){
    if (keyboard_check(konamiCode[konamiCodeProgress]) || keyboard_check(ord(konamiCode[konamiCodeProgress]))){
        if (konamiCodeProgress + 1 &gt;= array_length_1d(konamiCode)){
            konamiCodeProgress = 0;
            global.samImg = 5+ceil(random(2));
        }
        else{
            konamiCodeProgress++
        }
    }
    else {
        konamiCodeProgress = 0;
    }
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints/>
</object>
